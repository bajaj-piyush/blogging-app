<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("./partials/head") %>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HomePage</title>
  </head>
  <body class="bg-light" >
    <%- include("./partials/navbar")%>
    <% if (!(locals.user)) { %>
      <div class="bg-light d-flex flex-column" style="height: 40vh;">
      <div class="text-center">
        <h1 class="display-4">Welcome to Blogster!</h1>
        <p class="lead">Your go-to platform for exploring a variety of blogs on different topics. Join a community of readers and writers who share your passion for knowledge and creativity.</p>
        <p class="mb-4">You can add various blogs and share your thoughts with others!</p>
        <p class="mb-4"><b>To access all the features and start your blogging journey, please sign up first. After signing up, you will need to sign in. If you already have an account, you can sign in directly from the navigation bar above!</b></p>
      </div></div>
      <div class="container">
        <h2 class="mx-4 mb-1">Latest Blogs:</h2>
        <div class="row row-cols-1 row-cols-md-3 g-3 mt-3 p-4">
     
      <% blogs.forEach(blog => { %>
        <div class="row p-3">
          <div class="card border border-dark my-1" style="width: 20rem">
            <img class="card-img-top" src=<%=blog.coverImageUrl%> style="height: 200px;" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title"><%= blog.title %></h5>
              <p class="card-text"><%=(blog.body).slice(0,80)%>...</p>
              <a href="/blog/<%= blog._id %>" class="btn btn-primary">View</a>
            </div>
          </div>
        </div>
        <% }) %>
      </div>
      </div>
      
      <% } else { %>
        
        <div class="container">
          <div class="row row-cols-1 row-cols-md-3 g-3 mt-3 p-4">
            <% blogs.forEach(blog => { %>
              <div class="row p-3">
                <div class="card border border-dark my-1" style="width: 20rem">
                  <img class="card-img-top" src=<%=blog.coverImageUrl%> style="height: 200px;" alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title"><%= blog.title %></h5>
                    <p class="card-text"><%=(blog.body).slice(0,80)%>...</p>
                    <a href="/blog/<%= blog._id %>" class="btn btn-primary">View</a>
                  </div>
                </div>
              </div>
              <% }) %>
            </div>
          </div>
          <% } %>
  </body>
  <%- include("./partials/scripts") %>
</html>
